env GOPACKAGE=models
env GOFILE=models.go
exec sqlb -to membership.gen.go -generated UserID -generated TeamID Membership

cmp membership.gen.exp.go membership.gen.go

-- models.go --
package models

type Membership struct {
	UserID int
	TeamID int
	Role   string
}

-- membership.gen.exp.go --
// Code generated by "sqlb -to membership.gen.go -generated UserID -generated TeamID Membership"; DO NOT EDIT.

package models

import (
	"database/sql"
	"fmt"
)

func _() {
	// Validate the struct fields haven't changed. If this doesn't compile you probably need to `go generate` again.
	var m Membership
	_ = Membership{m.UserID, m.TeamID, m.Role}
}

func (Membership) IsGenerated(c string) bool {
	switch c {
	case "user_id", "team_id":
		return true
	}
	return false
}

func (m Membership) Values() []sql.NamedArg {
	return []sql.NamedArg{sql.Named("user_id", m.UserID), sql.Named("team_id", m.TeamID), sql.Named("role", m.Role)}
}

func (m *Membership) ScanFrom(columns []string, rows *sql.Rows, buf []any) error {
	for _, c := range columns {
		switch c {
		case "user_id":
			buf = append(buf, &m.UserID)
		case "team_id":
			buf = append(buf, &m.TeamID)
		case "role":
			buf = append(buf, &m.Role)
		default:
			return fmt.Errorf("unknown column name %q", c)
		}
	}
	return rows.Scan(buf...)
}
