env GOPACKAGE=task
env GOFILE=task.go
exec sqlb -to task.gen.go -generated ID Task

cmp task.gen.exp.go task.gen.go

-- task.go --
package task

type Task struct {
	ID int
	Name string "random tag"
	Age  int
	UserID string
}

-- task.gen.exp.go --
// Code generated by "sqlb -to task.gen.go -generated ID Task"; DO NOT EDIT.

package task

import (
	"database/sql"
	"fmt"
)

func _() {
	// Validate the struct fields haven't changed. If this doesn't compile you probably need to `go generate` again.
	var t Task
	_ = Task{t.ID, t.Name, t.Age, t.UserID}
}

func (Task) IsGenerated(c string) bool {
	switch c {
	case "id":
		return true
	}
	return false
}

func (t Task) Values() []sql.NamedArg {
	return []sql.NamedArg{sql.Named("id", t.ID), sql.Named("name", t.Name), sql.Named("age", t.Age), sql.Named("user_id", t.UserID)}
}

func (t *Task) ScanFrom(rows *sql.Rows) error {
	columns, err := rows.Columns()
	if err != nil {
		return err
	}
	dests := make([]any, 0, len(columns))
	for _, c := range columns {
		switch c {
		case "id":
			dests = append(dests, &t.ID)
		case "name":
			dests = append(dests, &t.Name)
		case "age":
			dests = append(dests, &t.Age)
		case "user_id":
			dests = append(dests, &t.UserID)
		default:
			return fmt.Errorf("unknown column name %q", c)
		}
	}
	return rows.Scan(dests...)
}
